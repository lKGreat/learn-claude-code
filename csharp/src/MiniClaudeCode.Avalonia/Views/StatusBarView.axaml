<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:MiniClaudeCode.Avalonia.ViewModels"
             x:Class="MiniClaudeCode.Avalonia.Views.StatusBarView"
             x:DataType="vm:StatusBarViewModel"
             Height="24">

    <Border Background="{DynamicResource ThemeStatusBarBackground}">
        <Grid ColumnDefinitions="Auto,*,Auto">
            <!-- Left side items -->
            <StackPanel Grid.Column="0"
                        Orientation="Horizontal"
                        Spacing="10"
                        Margin="8,0">
                <!-- Git branch -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Command="{Binding ClickBranchCommand}"
                        IsVisible="{Binding HasBranch}"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBlock Text="âŽ‡" FontSize="11" VerticalAlignment="Center" />
                        <TextBlock Text="{Binding BranchName}"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeStatusBarForeground}"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- Cloud sync -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="â˜"
                               FontSize="11"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Sync status -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="2">
                        <TextBlock Text="0â†“" FontSize="11" VerticalAlignment="Center" />
                        <TextBlock Text="6â†‘" FontSize="11" VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- Errors -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Command="{Binding ClickProblemsCommand}"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBlock Text="âœ•"
                                   FontSize="10"
                                   Foreground="{DynamicResource ThemeDanger}"
                                   VerticalAlignment="Center" />
                        <TextBlock Text="0"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeStatusBarForeground}"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- Warnings -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBlock Text="âš "
                                   FontSize="10"
                                   Foreground="{DynamicResource ThemeYellow}"
                                   VerticalAlignment="Center" />
                        <TextBlock Text="0"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeStatusBarForeground}"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- Notifications bell -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBlock Text="ðŸ””"
                                   FontSize="10"
                                   VerticalAlignment="Center" />
                        <TextBlock Text="0"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeStatusBarForeground}"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- Projects count -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="é¡¹ç›®: 4"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Build config -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="Debug Any CPU"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Solution file -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="å·²æ‰“å¼€è§£å†³æ–¹æ¡ˆæ–‡ä»¶: MiniClaudeCode.slnx"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>
            </StackPanel>

            <!-- Right side items -->
            <StackPanel Grid.Column="2"
                        Orientation="Horizontal"
                        Spacing="10"
                        Margin="8,0">
                <!-- Cursor position -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="{Binding CursorPosition}"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center"
                               FontFamily="Cascadia Code, Consolas, monospace" />
                </Button>

                <!-- Encoding -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="{Binding Encoding}"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Line ending -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="{Binding LineEnding}"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Language mode -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="{Binding LanguageMode}"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Plan mode badge -->
                <Border IsVisible="{Binding IsPlanMode}"
                        Background="{DynamicResource ThemeListActiveBackground}"
                        CornerRadius="3"
                        Padding="4,1"
                        VerticalAlignment="Center">
                    <TextBlock Text="PLAN"
                               FontSize="9"
                               FontWeight="Bold"
                               Foreground="{DynamicResource ThemeStatusBarForeground}" />
                </Border>

                <!-- AI model/provider -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="{Binding ProviderDisplay}"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Turn/Tool count -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center"
                               FontFamily="Cascadia Code, Consolas, monospace">
                        <TextBlock.Text>
                            <MultiBinding StringFormat="T:{0} TC:{1}">
                                <Binding Path="TurnCount" />
                                <Binding Path="ToolCallCount" />
                            </MultiBinding>
                        </TextBlock.Text>
                    </TextBlock>
                </Button>

                <!-- Signed out status -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="Signed out"
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>

                <!-- Go Live -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Background="#45475A"
                        Cursor="Hand">
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBlock Text="ðŸŒ"
                                   FontSize="10"
                                   VerticalAlignment="Center" />
                        <TextBlock Text="Go Live"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeStatusBarForeground}"
                                   VerticalAlignment="Center" />
                        <Ellipse Width="6" Height="6"
                                 Fill="{DynamicResource ThemeGreen}"
                                 VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <!-- More actions -->
                <Button Classes="statusBarItem"
                        Padding="4,0"
                        Cursor="Hand">
                    <TextBlock Text="..."
                               FontSize="11"
                               Foreground="{DynamicResource ThemeStatusBarForeground}"
                               VerticalAlignment="Center" />
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
